<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>공지사항 작성</title>
<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet" th:href="@{/static/css/common.css}">	
<link rel="stylesheet" th:href="@{/static/css/noticeWriteForm.css}">
<style>

</style>
</head>
<body>
	<div class="form-container">
		<div class="form-title">공지사항 작성</div>
		<form action="/submit-notice" method="post"
			enctype="multipart/form-data">
			<!-- 제목 -->
			<div class="mb-3">
				<label for="title">제목</label> <input type="text"
					class="form-control" id="title" name="title"
					placeholder="제목을 입력하세요" required>
			</div>

			<!-- 텍스트 에디터 -->
			<div class="mb-3">
				<label for="content">내용</label>
				<textarea class="form-control" id="content" name="content" rows="8"
					placeholder="내용을 작성하세요" required></textarea>
			</div>

			<!-- 이미지 등록 -->
			<div class="mb-3">
				<label for="image">이미지 등록</label> <input type="file"
					class="form-control" id="image" name="image" accept="image/*"
					onchange="previewImage(event)"> <img id="imagePreview"
					class="image-preview" alt="이미지 미리보기">
			</div>

			<!-- 버튼 -->
			<div class="form-footer">
				<button type="submit" class="btn btn-primary">등록하기</button>
				<button type="reset" class="btn btn-secondary"
					onclick="clearPreview()">초기화</button>
			</div>
		</form>
	</div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script th:src="@{/static/js/login.js}"></script>
	<script>
		// 이미지 미리보기 함수
		function previewImage(event) {
			const input = event.target;
			const preview = document.getElementById('imagePreview');

			if (input.files && input.files[0]) {
				const reader = new FileReader();

				reader.onload = function(e) {
					preview.src = e.target.result;
					preview.style.display = 'block';
				};

				reader.readAsDataURL(input.files[0]);
			}
		}

		// 미리보기 초기화 함수
		function clearPreview() {
			const preview = document.getElementById('imagePreview');
			const imageInput = document.getElementById('image');
			preview.src = '';
			preview.style.display = 'none';
			imageInput.value = '';
		}
	</script>

	<!-- Bootstrap JS -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
